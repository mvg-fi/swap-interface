<script lang="ts">
  import clsx from "clsx";
  import { _ } from "svelte-i18n"
  import { page } from '$app/stores';  
  import { goto } from "$app/navigation";
  $: active = $page.url.pathname.slice(0,5) === '/swap' ? 0 : $page.url.pathname.slice(0,5) === '/pool' ? 1 : $page.url.pathname.slice(0,3) === '/me' ? 2 : 3;
</script>

<div class="btm-nav btm-nav-md visible md:invisible shadow-2xl bg-white">
  <button class={clsx("bg-transparent", active === 0 ? 'opacity-100 text-primary' : 'opacity-40')} on:click={async ()=>await goto("/swap")}>
    <!-- Swap -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="0.001" stroke="currentColor"><path fill="currentColor" d="M19.379 15.106A8.001 8.001 0 0 0 8.035 5.056l-.993-1.737a9.996 9.996 0 0 1 9.962.023c4.49 2.593 6.21 8.143 4.118 12.77l1.342.775l-4.166 2.214l-.165-4.714l1.246.719ZM4.629 8.9a8.001 8.001 0 0 0 11.345 10.05l.992 1.737a9.995 9.995 0 0 1-9.962-.024C2.514 18.07.794 12.52 2.887 7.893L1.545 7.12L5.71 4.905l.165 4.714l-1.245-.72Zm8.79 5.931l-2.829-2.828l-2.828 2.828l-1.415-1.414l4.243-4.243l2.828 2.829l2.829-2.829l1.414 1.414l-4.243 4.243Z" /></svg>
    <span class="btm-nav-label mtsub">{$_("swap.swap")}</span>
  </button>
  <button class={clsx("bg-transparent", active === 1 ? 'opacity-100 text-primary' : 'opacity-40')} on:click={async ()=>await goto("/pool")}>
    <!-- Pool -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" viewBox="0 0 512 512" stroke-width="1" stroke="currentColor"><path fill="currentColor" d="M 233.500 49.140 C 194.559 54.973, 162.002 71.672, 134.918 99.706 C 112.505 122.905, 97.318 152.007, 90.770 184.303 C 87.512 200.371, 87.509 231.370, 90.764 247.557 C 96.071 273.957, 107.132 298.377, 123.204 319.176 C 129.510 327.337, 133.204 329.633, 137.437 328.024 C 138.735 327.530, 140.519 326.098, 141.399 324.841 C 144.069 321.028, 143.357 317.625, 138.680 311.842 C 116.415 284.313, 104.840 251.679, 104.870 216.519 C 104.884 200.626, 105.913 192.150, 109.594 177.626 C 122.531 126.586, 163.020 84.992, 213.866 70.509 C 234.855 64.531, 260.202 63.008, 281 66.475 C 328.644 74.416, 370.198 105.178, 391.913 148.583 C 397.284 159.319, 403.432 178.145, 405.601 190.500 C 408.385 206.353, 407.979 230.122, 404.654 246 C 399.919 268.615, 390.743 288.932, 377.026 307.174 C 367.771 319.482, 367.072 322.200, 372.077 326.411 C 378.384 331.719, 382.806 328.792, 394.633 311.478 C 407.412 292.772, 417.147 269.674, 421.730 247.186 C 424.503 233.579, 424.188 196.099, 421.187 182.500 C 410.136 132.432, 379.777 91.599, 335.813 67.673 C 319.643 58.874, 296.051 51.360, 277.500 49.101 C 266.998 47.823, 242.149 47.845, 233.500 49.140 M 212.745 172.755 C 175.561 209.948, 173 212.735, 173 216.009 C 173 219.284, 175.558 222.066, 212.755 259.255 C 249.867 296.358, 252.741 299, 255.991 299 C 259.241 299, 262.113 296.359, 299.236 259.236 C 336.251 222.221, 339 219.233, 339 216.015 C 339 212.798, 336.244 209.799, 299.267 172.779 C 261.990 135.460, 259.316 133, 256.012 133 C 252.709 133, 250.026 135.465, 212.745 172.755 M 223.998 184.502 L 192.508 216.004 224.254 247.750 L 256 279.496 287.746 247.750 L 319.492 216.004 288.002 184.502 C 270.682 167.176, 256.282 153, 256 153 C 255.718 153, 241.318 167.176, 223.998 184.502 M 187.388 319.115 C 179.673 325.297, 168.508 332.360, 160.583 336.072 C 148.333 341.810, 139.227 344.045, 125.500 344.686 C 106.945 345.552, 92.849 342.226, 80.070 333.967 C 71.530 328.447, 67.201 328.880, 64.422 335.533 C 62.497 340.140, 63.802 343.079, 69.517 347.012 C 91.418 362.080, 126.861 366.083, 154.621 356.625 C 163.645 353.550, 178.705 345.935, 187.504 339.997 L 194.538 335.251 198.019 338.191 C 202.940 342.348, 217.399 351.111, 224.520 354.251 C 237.867 360.137, 255.057 362.404, 268.610 360.065 C 281.556 357.831, 298.220 350.052, 311.353 340.111 L 317.615 335.372 325.557 340.707 C 349.697 356.924, 374.940 363.830, 400.546 361.222 C 418.077 359.438, 437.131 352.390, 444.863 344.829 C 449.147 340.641, 449.169 336.161, 444.923 332.589 C 440.756 329.083, 438.530 329.319, 431.500 334.012 C 419.433 342.067, 404.369 345.592, 386 344.659 C 364.388 343.561, 346.269 336.307, 326.366 320.784 C 317.975 314.240, 315.805 314.340, 307.176 321.674 C 275.775 348.360, 247.600 351.169, 216.324 330.734 C 212.571 328.282, 206.886 323.963, 203.692 321.138 C 196.568 314.836, 193.242 314.424, 187.388 319.115 M 187.340 405.808 C 172.886 417.182, 158.056 425.039, 144.064 428.737 C 136.293 430.791, 132.157 431.266, 122 431.275 C 103.613 431.290, 90.733 427.815, 78.706 419.594 C 71.404 414.603, 64 417.444, 64 425.237 C 64 428.206, 64.705 429.448, 67.987 432.257 C 79.394 442.021, 99.660 448, 121.347 448 C 145.306 448, 164.568 441.905, 186.050 427.526 L 194.421 421.923 196.960 423.932 C 209.545 433.884, 225.617 442.269, 238.500 445.603 C 248.686 448.240, 264.078 448.038, 275 445.125 C 285.963 442.200, 299.564 435.441, 309.570 427.945 C 313.931 424.677, 317.725 422.116, 318 422.254 C 318.275 422.392, 322.550 425.170, 327.500 428.427 C 338.525 435.683, 349.637 440.981, 361.505 444.640 C 370.031 447.269, 371.517 447.413, 390 447.413 C 408.383 447.413, 410.003 447.258, 418.288 444.700 C 436.008 439.229, 448 431.313, 448 425.086 C 448 420.928, 444.153 417, 440.079 417 C 438.272 417, 434.632 418.574, 430.976 420.937 C 413.894 431.978, 385.214 434.673, 363.176 427.309 C 350.263 422.994, 336.645 415.439, 325.495 406.406 C 318.216 400.508, 315.225 400.837, 307 408.438 C 301.583 413.445, 292.328 419.809, 285.500 423.223 C 261.484 435.230, 239.575 432.991, 214.500 415.969 C 210.650 413.355, 206.150 409.778, 204.500 408.019 C 201.076 404.369, 196.998 402, 194.139 402 C 193.062 402, 190.002 403.714, 187.340 405.808" fill-rule="evenodd"/></svg>
    <span class="btm-nav-label mtsub">{$_("pool.title")}</span>
  </button>
  <button class={clsx("bg-transparent", active === 2 ? 'opacity-100 text-primary' : 'opacity-40')} on:click={async ()=>await goto("/me")}>
    <!-- Me -->
    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor">
    <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
    </svg>
    <span class="btm-nav-label mtsub">{$_("me")}</span>
  </button>
</div>

<style>
  .mtsub{
    margin-top: -2px;
  }
</style>